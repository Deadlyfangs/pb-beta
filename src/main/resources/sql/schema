--Players
CREATE TABLE players (
  id      INTEGER NOT NULL,
  name    CHARACTER VARYING(255),
  rank_id INTEGER,
  team_id INTEGER
);

CREATE SEQUENCE players_id_seq
START WITH 1
INCREMENT BY 1
NO MINVALUE
NO MAXVALUE
CACHE 1;

ALTER SEQUENCE players_id_seq OWNED BY players.id;
ALTER TABLE ONLY players ALTER COLUMN id SET DEFAULT nextval('players_id_seq'::regclass);

ALTER TABLE ONLY players
  ADD CONSTRAINT players_pkey PRIMARY KEY (id);


--Fields
CREATE TABLE fields (
  id       INTEGER NOT NULL,
  name     CHARACTER VARYING(255),
  address  CHARACTER VARYING(255),
  capacity INTEGER NOT NULL
);

CREATE SEQUENCE fields_id_seq
START WITH 1
INCREMENT BY 1
NO MINVALUE
NO MAXVALUE
CACHE 1;

ALTER SEQUENCE fields_id_seq OWNED BY fields.id;
ALTER TABLE ONLY fields ALTER COLUMN id SET DEFAULT nextval('fields_id_seq'::regclass);

ALTER TABLE ONLY fields
  ADD CONSTRAINT fields_pkey PRIMARY KEY (id);


--Events
CREATE TABLE events (
  id         INTEGER NOT NULL,
  name       CHARACTER VARYING(255),
  begin_date TIMESTAMP WITHOUT TIME ZONE,
  end_date   TIMESTAMP WITHOUT TIME ZONE,
  field_id   INTEGER NOT NULL
);

CREATE SEQUENCE events_id_seq
START WITH 1
INCREMENT BY 1
NO MINVALUE
NO MAXVALUE
CACHE 1;

ALTER SEQUENCE events_id_seq OWNED BY events.id;
ALTER TABLE ONLY events ALTER COLUMN id SET DEFAULT nextval('events_id_seq'::regclass);

ALTER TABLE ONLY events
  ADD CONSTRAINT events_pkey PRIMARY KEY (id);


--Teams
CREATE TABLE teams (
  id      INTEGER NOT NULL,
  name    CHARACTER VARYING(255),
  rank_id INTEGER
);


